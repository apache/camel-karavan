#
# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements.  See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ASF licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License.  You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
karavan.appName=karavan
karavan.title=Apache Camel Karavan
karavan.version=4.18.0

karavan.camel.status.interval=5s
karavan.container.status.interval=3s
# karavan.container.status.interval should be off in kubernetes

karavan.container.statistics.interval=10s
# karavan.container.statistics.interval should be off in kubernetes

karavan.devmode.image=ghcr.io/apache/camel-karavan-devmode:${${karavan.version}:latest}
karavan.devmode.service.account=karavan
karavan.builder.service.account=karavan
karavan.secret.name=karavan
karavan.docker.network=karavan

# Keycloak configuration
karavan.keycloak.url=http://localhost:8079
karavan.keycloak.realm=karavan
karavan.keycloak.frontend.clientId=frontend
karavan.keycloak.backend.clientId=backend
karavan.keycloak.backend.secret=karavan

# Git repository Configuration
karavan.git.repository=http://gitea:3000/karavan/karavan.git
karavan.git.username=karavan
karavan.git.password=karavankaravan
karavan.git.branch=main

karavan.private-key-path=
karavan.known-hosts-path=

# Container mage registry configuration
karavan.container-image.registry=registry:5000
karavan.container-image.group=karavan
karavan.container-image.registry-username=
karavan.container-image.registry-password=

# Authentication
platform.auth=session
quarkus.http.auth.proactive=false
quarkus.http.auth.permission.public.paths=/public/*,/static/*,/robots.txt,/favicon.ico
quarkus.http.auth.permission.public.policy=permit
quarkus.http.auth.permission.public.methods=GET

# SSO Authentication
%platform.auth=oidc
quarkus.oidc.enabled=true
# Important! Set quarkus.oidc.tenant-enabled=true for platform.auth=oidc
quarkus.oidc.tenant-enabled=false
quarkus.http.auth.basic=false
quarkus.oidc.auth-server-url=${karavan.keycloak.url}/realms/${karavan.keycloak.realm}
quarkus.oidc.client-id=${karavan.keycloak.backend.clientId}
quarkus.oidc.credentials.secret=${karavan.keycloak.backend.secret}
quarkus.oidc.application-type=service
quarkus.oidc.roles.source=accesstoken

# Quarkus configuration
quarkus.http.enable-compression=true
quarkus.log.level=INFO
quarkus.banner.enabled=false
quarkus.package.jar.type=uber-jar
quarkus.docker.dockerfile-jvm-path=src/main/docker/Dockerfile
quarkus.container-image.builder=docker
quarkus.devservices.enabled=false

quarkus.kubernetes-client.trust-certs=true
quarkus.health.extensions.enabled=false

quarkus.kubernetes-client.connection-timeout=2000
quarkus.kubernetes-client.request-timeout=10000
quarkus.kubernetes-client.devservices.enabled=false

%public.quarkus.swagger-ui.always-include=true

quarkus.quinoa.enable-spa-routing=true
quarkus.quinoa.ci=false
quarkus.quinoa.package-manager-install=true
quarkus.quinoa.package-manager-install.node-version=24.11.1
quarkus.quinoa.dev-server.port=3003
quarkus.quinoa.dev-server.check-timeout=60000
quarkus.quinoa.ignored-path-prefixes=/ui,/public,/api/,/auth
quarkus.quinoa.package-manager-command.build-env.NODE_OPTIONS=--max-old-space-size=4096

#quarkus.jgit.devservices.enabled=true
#
#quarkus.jgit.devservices.admin-username=karavan
#quarkus.jgit.devservices.admin-password=karavankaravan
#quarkus.jgit.devservices.oranizations=karavan
#quarkus.jgit.devservices.repositories=karavan

platform.password=K@r@v@n418

karavan.datasource.username=karavan
karavan.datasource.password=K@r@v@n418
karavan.datasource.url=jdbc:postgresql://postgres:5432/karavan
karavan.datasource.schemas=public

quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=${KARAVAN_DATASOURCE_USERNAME:${karavan.datasource.username}}
quarkus.datasource.password=${KARAVAN_DATASOURCE_PASSWORD:${karavan.datasource.password}}
quarkus.datasource.jdbc.url=${KARAVAN_DATASOURCE_URL:${karavan.datasource.url}}
quarkus.datasource.jdbc.max-size=13
quarkus.flyway.schemas=${KARAVAN_DATASOURCE_SCHEMAS:public}
quarkus.flyway.locations=classpath:database
quarkus.flyway.clean-disabled=true
quarkus.flyway.migrate-at-start=true
quarkus.flyway.baseline-on-migrate=true
quarkus.flyway.baseline-version=1.0
quarkus.flyway.table=flyway_history
quarkus.flyway.active=${KARAVAN_FLYWAY_ACTIVE:true}
quarkus.hibernate-orm.active=${KARAVAN_HIBERNATE_ORM_ACTIVE:true}

